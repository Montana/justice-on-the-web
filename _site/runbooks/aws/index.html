<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
    

    <!-- Use title if it's in the page YAML frontmatter -->
    
    <title>Development Principles - Justice On The Web</title>
    

    <!--[if gt IE 8]><!--><link href="/stylesheets/screen.css" media="screen" rel="stylesheet" ><!--<![endif]-->
    <!--[if lte IE 8]><link href="/stylesheets/screen-old-ie.css" media="screen" rel="stylesheet" ><![endif]-->

    <link rel="canonical" href="http://localhost:4000/runbooks/aws/">

    <link href="/stylesheets/print.css" media="print" rel="stylesheet" >
    <script src="/javascripts/application.js" type="text/javascript" charset="utf-8"></script>
  </head>

  <body>
    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="skip-link">Skip to main content</a>

        <header class="header header--full-width">
  <div class="header__container">
    <div class="header__brand">
        <a href="/">
        
        <span class="header__title">
          Justice On The Web
          
        </span>
        </a>
    </div>

    
      <div data-module="navigation">
        <button type="button" class="header__navigation-toggle js-nav-toggle" aria-controls="navigation" aria-label="Show or hide top level navigation">Menu</button>

        <nav id="navigation" class="header__navigation js-nav" aria-label="Top Level Navigation" aria-hidden="true">
          <ul>
            
              <li>
                <a href="https://github.com/ministryofjustice/justice-on-the-web">
                  GitHub
                </a>
              </li>
            
          </ul>
        </nav>
      </div>
    
  </div>
</header>

      </div>

      <div id="toc-heading" class="toc-show fixedsticky">
        <a href="#toc" class="toc-show__label js-toc-show" aria-controls="toc">
          Table of contents <span class="toc-show__icon"></span>
        </a>
      </div>

      <div class="app-pane__body" data-module="in-page-navigation">
        <div class="app-pane__toc">
          <div class="toc" data-module="table-of-contents">
            <a href="#" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></a>
            <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
              

<ul>
  <li><a href="#development-principles">Development Principles</a>
    <ul>
      <li><a href="#general-principles">General Principles</a>
        <ul>
          <li><a href="#1-share-the-knowledge">1. Share the knowledge</a></li>
          <li><a href="#2-code-should-be-correct-clear-concise---in-that-order">2. Code should be correct, clear, concise - in that order</a></li>
          <li><a href="#3-optimize-for-change">3. Optimize for change</a></li>
          <li><a href="#4-something-simple-which-exists-is-better-than-a-perfect-solution-which-doesnt-exist-yet">4. Something simple which exists is better than a perfect solution which doesn’t exist yet</a></li>
          <li><a href="#5-everything-fails-all-of-the-time">5. Everything fails, all of the time.</a></li>
          <li><a href="#6-other-developers-are-users-too---treat-them-with-respect">6. Other developers are users too - treat them with respect</a></li>
          <li><a href="#7-think-smaller">7. Think smaller</a></li>
          <li><a href="#8-names-have-power-use-them-wisely">8. Names have power. Use them wisely</a></li>
          <li><a href="#9-composition-over-inheritance">9. Composition over inheritance</a></li>
          <li><a href="#10-any-attempt-to-predict-the-future-is-likely-to-be-wrong">10. Any attempt to predict the future is likely to be wrong</a></li>
        </ul>
      </li>
      <li><a href="#ruby-specific-principles">Ruby-specific principles</a>
        <ul>
          <li><a href="#1-handle-exceptions-at-the-application-level-not-component-level">1. Handle exceptions at the application level, not component level</a></li>
          <li><a href="#2-use-meta-programming-with-extreme-caution">2. Use meta-programming with extreme caution</a></li>
        </ul>
      </li>
      <li><a href="#python-specific-principles">Python-specific principles</a>
        <ul>
          <li><a href="#1-handle-exceptions-at-the-application-level-not-component-level-1">1. Handle exceptions at the application level, not component level</a></li>
          <li><a href="#2-pep-8">2. PEP 8</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>


            </nav>
          </div>
        </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
            <h1 id="development-principles">Development Principles</h1>

<p>These principles are stated in no particular order, and are <em>always</em> open to debate.
All development is a trade-off between competing pressures, these principles are
meant to help you decide which trade-offs are acceptable.</p>

<p>They are guidance, not The Law - there will always be edge cases, but you should
expect to be challenged if you go your own way. The principles are to guide future
and current development - use your judgement, but in general only rewrite existing
code if you really have to.</p>

<h2 id="general-principles">General Principles</h2>

<h3 id="1-share-the-knowledge">1. Share the knowledge</h3>

<p>If you have knowledge which is unique to you, it is your responsibility to share it.</p>

<p>We follow ‘<a href="https://guides.github.com/introduction/flow/">github flow</a>’, to keep branches small and short-lived, and ensure knowledge is shared.
If you produce something reusable, package it (e.g. with <a href="https://pypi.org">PyPI</a> or <a href="https://rubygems.org">rubygems</a>) &amp; share it with others on <a href="https://github.com/ministryofjustice/moj-reusables">MoJ Reuseables</a>.</p>

<p>All non-throwaway code should be reviewed - no-one is 100% right, 100% of the time… Be aware that ‘throwaway’ code has a nasty habit of sticking around.</p>

<h3 id="2-code-should-be-correct-clear-concise---in-that-order">2. Code should be correct, clear, concise - in that order</h3>

<p>Correct means provably correct - with tests. All fixes &amp; new features should include tests to prevent regressions.</p>

<p>Choose clarity over cleverness - avoid monkey-patching and meta-programming unless you have a very good reason not to.</p>

<p>Don’t Repeat Yourself - The ‘<a href="https://en.wikipedia.org/wiki/Rule_of_three_(computer_programming)">Rule of Three</a>’ is a good approach to managing duplication. Less code is usually better - but not at the expense of clarity.</p>

<h3 id="3-optimize-for-change">3. Optimize for change</h3>

<p>Don’t try to solve every conceivable problem up-front, instead focus on making your code easy to change when needed.</p>

<p>Don’t prematurely optimize - choose clarity over performance, unless there is a serious performance issue that needs to be addressed.</p>

<h3 id="4-something-simple-which-exists-is-better-than-a-perfect-solution-which-doesnt-exist-yet">4. Something simple which exists is better than a perfect solution which doesn’t exist yet</h3>

<p>We learn best from putting real things in front of real users, not trying to achieve perfection in isolation.
There is no substitute for a real user clicking through a user journey in a real application. Get it done, get it in front of people, and learn early.</p>

<p>Don’t over-engineer. Follow the principle of Least Surprise. Choose process
concurrency over threading &amp; let the O/S handle it, unless there is good reason.
When you do use threading, use language abstractions to help. Don’t roll your
own crypto. Handle exceptions at the app level, no lower, etc.</p>

<h3 id="5-everything-fails-all-of-the-time">5. Everything fails, all of the time.</h3>

<p>Accept this and <a href="https://en.wikipedia.org/wiki/Defensive_programming">code defensively</a> when calling other services.</p>

<p>Every HTTP call could error or hang - handle failures appropriately and fail fast. Don’t let long-running external
calls impact your user experience.</p>

<h3 id="6-other-developers-are-users-too---treat-them-with-respect">6. Other developers are users too - treat them with respect</h3>

<p>If you have to explain how your code works, then your code is not clear enough.
Comments are for explaining <strong>why</strong> something is needed, not how it works.</p>

<p>Commit messages should follow <a href="https://github.com/alphagov/styleguides/blob/master/git.md">GDS guidance</a>
No-one cares how clever you are - it’s far more important to work well with your team.</p>

<p>APIs are interfaces too - Like any other interface, APIs need designing and iterating for usability.</p>

<p>Don’t pollute the global namespace.</p>

<h3 id="7-think-smaller">7. Think smaller</h3>

<p>Stick to the Single Responsibility Principle - keep view templates, controllers and model classes as simple
as possible. Keep methods short. Concepts and patterns which may help with this: Null Object pattern, 
Facade pattern, Form Objects, Sandi Metz’s ‘<a href="https://robots.thoughtbot.com/sandi-metz-rules-for-developers">Rules for Developers</a>’.</p>

<p>A solution composed of many small simple things is usually better than one big complex thing.</p>

<h3 id="8-names-have-power-use-them-wisely">8. Names have power. Use them wisely</h3>

<p>Don’t be cute or jokey when naming things. Names convey meaning - well-named functions &amp; variables can 
remove the need for a comment. Avoid meaningless names like <code class="language-plaintext highlighter-rouge">obj</code> / <code class="language-plaintext highlighter-rouge">result</code> / <code class="language-plaintext highlighter-rouge">foo</code>.</p>

<p>Use single-letter variables only where the letter represents a well-known mathematical property
(e.g. e = mc^2), or where their meaning is otherwise clear.</p>

<p>See <a href="/standards/naming-things">Naming things</a>.</p>

<h3 id="9-composition-over-inheritance">9. Composition over inheritance</h3>

<p>It’s tempting to build an inheritance tree of objects extending others and redefining methods where needed -
but that often just creates tech debt for the future. Choose ‘has-a’ relationships over ‘is-a’ - e.g. a
Car has-a Motor, rather than Car is-a MotorVehicle.</p>

<h3 id="10-any-attempt-to-predict-the-future-is-likely-to-be-wrong">10. Any attempt to predict the future is likely to be wrong</h3>

<p>This includes estimates of work - if they are to be used for assigning budget or predicting delivery dates,
they should always come with a level of confidence, or a best/worst case range (e.g. “between x and y days”
or “maybe x days, but i’m only 50% confident of that”).</p>

<p>The larger the chunk of work you’re estimating, the more inaccurate you will be - so if it doesn’t fit into
a single sprint, break it down until it does.</p>

<h2 id="ruby-specific-principles">Ruby-specific principles</h2>

<h3 id="1-handle-exceptions-at-the-application-level-not-component-level">1. Handle exceptions at the application level, not component level</h3>

<p>(<em>This differs slightly from the Python principle in wording and philosophy</em>)</p>

<p>Don’t swallow exceptions in your libraries, let them propagate up to the application.
It’s usually only there that sufficient context exists to decide upon the appropriate action.</p>

<p>Exceptions are for the unexpected &amp; unhandleable, not flow control.</p>

<p>Always put specific exception types in rescue statements (unless you have good reason not to).</p>

<h3 id="2-use-meta-programming-with-extreme-caution">2. Use meta-programming with extreme caution</h3>

<p>Unless done very carefully, meta-programming makes code harder to read, debug, and understand.
It also creates performance issues through purging method caches, etc. Just because you can meta-program
in Ruby, doesn’t mean you should  - there’s nearly always a better way.</p>

<h2 id="python-specific-principles">Python-specific principles</h2>

<h3 id="1-handle-exceptions-at-the-application-level-not-component-level-1">1. Handle exceptions at the application level, not component level</h3>

<p>(<em>This differs slightly from the related Ruby-specific principle in wording and philosophy</em>)</p>

<p>Don’t swallow unexpected open type or base type exceptions in your libraries, let them propagate up 
to the application. It’s usually only there that sufficient context exists to decide upon the 
appropriate action. Always specify an exception type in a try/except unless there is a good reason not to.</p>

<h3 id="2-pep-8">2. PEP 8</h3>

<p>Always try to follow <a href="https://www.python.org/dev/peps/pep-0008/">pep8 code style</a> and
consider the <a href="https://www.python.org/dev/peps/pep-0020/">Zen of Python</a>.</p>

          </main>

          <footer class="footer">
  <div class="footer__licence">
    <a class="footer__licence-logo" href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence</a>
    <p class="footer__licence-description">All content is available under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence v3.0</a>, except where otherwise stated</p>
  </div>

  <div class="footer__copyright">
    <a class="footer__copyright-logo" href="http://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/copyright-and-re-use/crown-copyright/">© Crown copyright</a>
  </div>
</footer>

        </div>
      </div>
    </div>

    

  </body>
</html>
